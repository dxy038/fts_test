For the issue of resource allocation in a heterogeneous multi-user downlink OFDMA system with both delay-constrained (DC) and non-delay-constrained (NDC) traffic, this paper proposes suboptimal joint subcarrier and power allocation (JSPA) for channel-aware queue-aware(CAQA) scheduling. The objective is to maximize the sum of all NDC users´ logarithmic utility functions (achieving proportional fairness) while satisfying various delay requirements of DC users. By queue state information (QSI) and channel state information (CSI) of DC users, the algorithm firstly combines subcarrier and power allocation to satisfy users´ QoS (delay and bit outage probability), and then the residual system resources are allocated to NDC users by proportional fairness(PF) algorithm. In order to satisfy each DC user´s delay constrain, we define a delay control factor which also can balance DC users´ delay and NDC users´ throughput. Simulation results show that the proposed algorithm can guarantee all DC users´ QoS and the average delay fairness among them and offers high throughput while maintaining proportional fairness among all NDC users.
