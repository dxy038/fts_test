This paper proposes an algorithm for design and on the fly modification of the schedule of a wireless ad hoc network for provision of fair service guarantees under topological changes. The primary objective is to derive a distributed coordination method for schedule construction and modification for any wireless ad-hoc network operating under a schedule where transmissions at each slot are explicitly specified over a time period of length T. We first introduce a fluid model of the system where the conflict avoidance requirements of neighboring links are relaxed while the aspect of local channel sharing is captured. In this model we propose an algorithm where the nodes asynchronously re-adjust the rates allocated to their adjacent links using only local information. We prove that, from any initial condition, the algorithm finds the max-min fair rate allocation in the fluid model. Hence, if the iteration is performed constantly the rate allocation will track the optimal even in regimes of constant topology changes. Then we consider the slotted system and propose a modification method that applies directly on the slotted schedule, emulating the effect of the rate re-adjustment iteration of the fluid model. Through extensive experiments in networks with both fixed and time varying topologies we show that the latter algorithm achieves balanced rate allocations in the actual slotted system that are very close to the max-min fair rates. The experiments also show that the algorithm is very robust on topology variations, with very good tracking properties of the max-min fair rate allocation.
