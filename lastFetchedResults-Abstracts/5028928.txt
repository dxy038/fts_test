The possibility of adding MPLS support to transport networks is considered an important opportunity by telecom carriers that want to add packet services and applications to their networks. However, the question arises whether it is convenient to add MPLS nodes just at the edge of the network to collect packet traffic from users, or it is better to have also MPLS core nodes to exploit packet switching flexibility and multiplexing. In this paper we propose mathematical programming models for the design of two-layer networks where MPLS is considered on top of transport networks (SDH or WDM depending on required link speed). Our models take into account the additional cost of MPLS support in the nodes and the statistical multiplexing effect that allows saving bandwidth. In order to limit the complexity of the model, we consider a bottleneck objective function and a simple traffic model where each traffic demand is described by a pair of values (mean and additional). If a set of traffic demands is multiplexed on a link, the capacity installed on the link must be greater than the sum of all the mean values and only the highest additional one. We first propose a MIP (mixed integer programming) model for the problem that aims at optimizing the number and location of MPLS nodes in the network and the link capacities. We present a Lagrangian relaxation solved with the subgradient method to obtain a lower bound. Due to the exponential number of variables a column generation approach is used. We also introduce a heuristic approach to get an upper bound. Starting from the resolution of the Lagrangian relaxation we obtain an integer solution improved by a local search step. We propose also a simple algorithm that provides reasonable good solutions in short computational time. Computational results are reported for small size and real-world instances
