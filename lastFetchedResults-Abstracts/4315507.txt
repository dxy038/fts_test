In this paper, we address the problem of rate optimization in a multi-hop Aloha network, with the objective of achieving general utility-based fairness amongst the end-to-end flows. A general multi-hop wireless network is considered, where all nodes need not be within transmission range of each other. The rate optimization problem is considered within the framework of nonlinear programming and a cross-layer algorithm is proposed to solve the problem in a distributed manner. The algorithm works at both the link layer to adjust link attempt probabilities and at the transport layer to adjust flow rates. We prove that the algorithm converges to the local optimal solutions. Simulation results show that, when a logarithmic function is used as the utility function to achieve proportional fairness amongst the end-to-end flows, the proposed algorithm converges to the globally optimal solutions in various network scenarios.
