In this paper, we undertake the problem of server consolidation in virtualized data centers from the perspective of approximation algorithms. We formulate server consolidation as a stochastic bin packing problem, where the server capacity and an allowed server overflow probability p are given, and the objective is to assign VMs to as few physical servers as possible, and the probability that the aggregated load of a physical server exceeds the server capacity is at most p. We propose a new VM sizing approach called effective sizing, which simplifies the stochastic optimization problem by associating a VM´s dynamic load with a fixed demand. Effective sizing decides a VM´s resource demand through statistical multiplexing principles, which consider various factors impacting the aggregated resource demand of a host where the VM may be placed. Based on effective sizing, we design a suite of polynomial time VM placement algorithms for both VM migration cost-oblivious and migration cost-aware scenarios. Through analysis, we show that our algorithm is O(1)- approximation for the stochastic bin packing problem when the VM loads can be modeled as all Poisson or all normal distributions. Through evaluations driven by a real data center load trace, we show that our consolidation solution can achieve an order of reduction on physical server requirement compared to that before consolidation; the consolidation result is only 24% more than the optimal solution. With effective sizing, our server consolidation solution achieves 10% to 23% more energy savings than state-of-the-art approaches.
