We describe an approach and prototype implementation of a method for insuring customer QoS subscriptions in a switched network. We pose the problem as a queue depth assignment problem. Each switch has a finite amount of available memory, and each output port on a switch has an adjustable queue depth for every QoS level. The problem is to find a near-optimal set of queue depths which (i) maximize the throughput of the switch, (ii) satisfy customer QoS subscriptions, and (iii) make effective use of the memory of the switch. Each QoS carries its own penalty for lost and delayed cells. The M/M/1/K queueing model is used to determine the cell loss rate and cell transfer delay. An objective cost function is derived. A hill-climbing algorithm was determined to be the best solution
