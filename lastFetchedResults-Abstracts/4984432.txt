This paper proposed an enhanced method of initializing the quantization parameter (QP) in H.264 rate control algorithm. Primarily, we analyze seven video sequences by their spatial and temporal characteristics using the entropy and motion vector. And then we choose five video sequences with different characteristics to constitute a sample space and find their optimal initial QPs which can guarantee to generate video sequences with consistent quality by minimizing the variation of QPs in a GOP, while ensuring the encoding bit rate closer to the target bit rate in various bit rates. The optimal QPs are represented in a two-dimensional matrix form arranged in entropy and target bit rate. When any video sequence is given under any target bit rate, its entropy is calculated and mapped to one of five samples through the proposed mapping method. Finally, its optimal initial QP is determined by simply picking an element of matrix according to the mapped entropy and given target bit rate. Simulation results show that the proposed method achieves more obvious consistency in objective PSNRs and has secured encoding bit rate than noted algorithms. And it is also shown that the proposed method has a characteristic of generalization, since an optimal QP of an arbitrary test video sequence can be properly determined by using the proposed sample space of 2-D matrix form.
