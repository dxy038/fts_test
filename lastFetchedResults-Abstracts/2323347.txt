In this paper, we consider a diffusion approximation to a classical risk process with the possibility of quota-share and excess-of-loss reinsurance, while in addition the company controls the amount of dividends paid out to the shareholders as well as the capital injections. The objective is to maximize the cumulative expected discounted dividends minus the penalized discounted capital injections until the time of bankruptcy. We show that the optimal combinational reinsurance strategy must be pure excess-of-loss reinsurance. The control problem is solved by constructing some suboptimal model which allows no bankruptcy by capital injection. Then we obtain the analytical expressions for the value function and the optimal strategies and it is concluded that they are the same as those in the case of no bankruptcy.
