In the secondary phase of oil recovery, water flooding is the most common way to sweep remaining oil in the reservoirs. The process can be regarded as a nonlinear optimization problem. This paper focuses on how to handle state constraints in an adjoint optimization framework for such systems. The state constraints are cast as nonlinear inequality constraints. In the presence of state constraints, adjoint-based gradient optimization methods can loose their efficiency. Moreover, using existing optimization packages one needs to supply Jacobians of the inequality constraints. We propose a Lagrangian-barrier function based method which adds the state constraints as a term to the objective function. Furthermore, we present a numerical case demonstrating that the feasibility and efficiency of the proposed method.
