Cognitive radio (CR) technology opens the licensed spectrum bands for opportunistic usage and initiates spectrum trading to improve the spectrum utilization. In this paper, we investigate the path selection problem in multihop cognitive radio networks (CRNs) under constraints on flow routing, link scheduling and CR sourceÂ´s budget. We extend the per-user-based spectrum trading in prior work to CR session-based spectrum trading, and effectively develop the spectrum trading mechanisms based on the cross-layer optimization in multihop CRNs. We introduce a new service provider, called secondary service provider (SSP), to help CR sessions to select the paths for packet delivery. Considering the price of bands and the potential returning of primary services at different CR links, the SSP purchases the licensed spectrum and jointly conducts flow routing and link scheduling under the budget constraints. We also propose a 4D conflict graph to characterize the conflict relationship among CR links and mathematically formulate the path selection problem under multiple constraints into an optimization problem with the objective of maximizing the end-to-end throughput. Due to the NP-hardness of the problem, we have also developed a heuristic algorithm to find the approximate solution.
