The effect of discontinuity in the state variables on optimization problems is investigated on the quasi-one-dimensional Euler equations in the discrete level. A pressure minimization problem and a pressure matching problem are considered. We find that the objective functional can be smooth in the continuous level and yet be non-smooth in the discrete level as a result of the shock crossing grid points. Higher resolution can exacerbate that effect making grid refinement counter productive for the purpose of computing the discrete sensitivities. First and second order sensitivities, as well as the adjoint solution, are computed exactly at the shock and its vicinity and are compared to the continuous solution. It is shown that in the discrete level the first order sensitivities contain a spike at the shock location that converges to a delta function with grid refinement, consistent with the continuous analysis. The numerical Hessian is computed and its consistency with the analytical Hessian is discussed for different flow conditions. It is demonstrated that consistency is not guaranteed for shocked flows. We also study the different terms composing the Hessian and propose some stable approximation to the continuous Hessian.
