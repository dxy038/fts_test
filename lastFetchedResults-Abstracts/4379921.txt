This paper proposes a dynamic resource allocation scheme to exploit the mixed timescale channel state information (CSI) knowledge structure in a multi-antenna base station-assisted device-to-device (D2D) network. The short-term multi-antenna beamforming control at each transmit device is adaptive to the local real-time CSI. The long-term routing and flow control is adaptive to the global topology and the long-term global CSI statistics of the D2D network. The design objective is to maximize a network utility function subject to the average transmit power constraint, the flow balance constraints and the instantaneous physical layer capacity constraints. The mixed timescale problem can be decomposed into a short-term beamforming control problem and a long-term flow and routing control problem. Using the stochastic cutting plane, we propose a low complexity, self-learning algorithm, which converges to the global optimal solution without explicit knowledge of the channel statistics. Simulation illustrates performance gains with several baselines.
