This paper describes step by step the process of designing, constructing and testing a bidirectional buck-boost converter. This converter is conceiving to be used as a controlled energy-transfer-equipment between the main energy source of an electric vehicle (a battery pack in this case) and an auxiliary energy system based on ultracapacitors. The converter is able to transfer energy in both directions, at rates of more than 40 kW. The battery pack´s nominal voltage is 330 V, while the ultracapacitor´s voltage depends on their state of charge (SOC), ranging from 100 V to 300 V. Equations governing current transfer and current ripple are analyzed. These equations will be used as guidelines for the control system design and smoothing inductor size requirement. The topology used is a buck-boost configuration. Special care had to be taken in designing the smoothing inductor and managing thermal loses, for these are critical to the overall performance. The inductor constructed, rating l.5 mH, is capable of transferring 200 A for several minutes with low loses and no core saturation (air core was used). A special water-cooled heatsink was designed and constructed, with a very low volume of less than 900 cc and a thermal resistance of less than 0.011&#176;C/W. The control system was implemented on a TMS320F241 DSP from Texas Instruments, which consists in two control loops. The first one controls the converter´s current, using as a reference the value obtained from the second loop, which controls the ultracapacitors state of charge (SOC). Criteria ruling this second loop are not discussed in this paper. Finally, some experimental results of the overall system are displayed.
