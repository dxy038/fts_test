The past few years have witnessed an explosive popularity of mobile services, especially in the form of smart phone applications. To cope with the limited batteries and computational capacities of mobile devices, prior studies suggest to deploy service instances in clouds for accomplishing most of the computation-intensive tasks. Service composition, which compensates for the simplicity of single service, is an effective way to utilize the plentiful services on the clouds all over the world. In this paper, we focus on the problem of service instance selection with service instance replica limitation constraint. The objective is to select the optimal set of service instances, which composes the integrated service and brings out the optimal QoS (quality of service), in terms of service response time. To characterize the problem, we establish a new QoS model, which considers the comprehensive quality over all users, not just for any single user or service instance. We prove that the problem is NP-hard, since many functionally equivalent service instances spread all over the distributed clouds. To address the problem, we classify the problem into three cases, including two special cases and the general case. We present two effective heuristic algorithms to determine the service instances selection for the two special cases, which are still NP-hard. The two special cases provide empirical bounds for the general case. We propose an algorithm that simulates a vote procedure for the users in the general case. The selected service instances, which come from the vote procedure, can satisfy a majority of users. We conduct extensive simulations for all of the algorithms. The simulation results show that our algorithms work efficiently on service response time reduction.
