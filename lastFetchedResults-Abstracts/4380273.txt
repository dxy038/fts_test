In this paper, we propose a method for obtaining an analytic model of the battery state-of-charge in wireless sensor nodes. The objective is to find simple models that can be used to estimate accurately the real battery state and consequently the node lifetime. Running the model in the network nodes, we can provide the motes with the required information to implement applications that can be considered as battery-aware. The proposed methodology reduces the computational complexity of the model avoiding complicated electrochemical simulations and treating the battery as an unknown system with an output that can be predicted using simple mathematical models. At a first stage, during a setup period, the method starts with the measurement of several battery parameters under different environmental and operational conditions. After that, the method uses the previous collected data for building mathematical models, considering the linear regression or multilayer perceptron as the most appropriated. Finally, the models are validated experimentally with new measures. Results show the suitability of the method that produces accurate and simple models, capable of being implemented even in low cost and very constrained real motes.
