We consider a new QoS routing problem which requires the on-line routing of a bandwidth guaranteed path along with the setting up of bypass paths for every link or node traversed by the primary active path. The bypass paths are used for fast local restoration where upon a link or node failure, the first upstream node re-establishes path continuity (with bandwidth guarantees) by switching to the bypass path for the failed node or link, The routing objective is to minimize the bandwidth usage for each connection so as optimize use of network resources while protecting against single node or link failure. Bandwidth efficiency is achieved by exploiting the potential for inter-demand and intra-demand backup bandwidth sharing. We develop a new algorithm for this routing problem which only uses aggregated link usage information (total bandwidth consumed on each link by active paths, total bandwidth consumed on each link by backup paths, and the residual bandwidths) that is easily obtainable by proposed routing protocol extensions. We show that the algorithm performs well in terms of the number of rejected requests and the total bandwidth used, The main use of this algorithm is for MPLS network routing and for wavelength routing in optical networks with wavelength conversion
