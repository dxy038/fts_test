The calculus of variations with state constraints is applied for averaging level control, where the objective is to keep the control input as smooth as possible, while at the same time keeping the plant output between high and low limits. Due to the simplicity of the controlled plant (double integrator), analytical solutions are obtained with straightforward calculations. The new algorithm is implemented as a receding horizon model predictive controller (MPC).
