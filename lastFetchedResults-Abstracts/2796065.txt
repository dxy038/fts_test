In this paper, we present a novel fair-queueing solution, dubbed Virtual Queueing Machine (VQM), that avoids the one-queueing-per-flow architecture found in many existing solutions. Its objective is to provide throughput fairness among competing backlogged flows while protecting the response times for short-lived flows. The VQM employs a two-stage architecture that assigns packets from all traffic flows to a fixed number of packet buffers in a calculated manner that follows fair queueing principle. This two-stage architecture allows previews of a portion of future traffic to be served thus allowing backlogged flows to be paced accordingly with a load-adaptive algorithm for protecting the response times of short-lived flows. A load-adaptive fairness metric is presented and is used to assess the performance of VQM under different simulation scenarios.
