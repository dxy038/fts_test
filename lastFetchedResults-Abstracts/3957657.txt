In this paper, we propose a hierarchical packet scheduling technique to closely approximate a hierarchical extension of the generalized processor sharing model, Hierarchical Generalized Processor Sharing (H-GPS). Our approach is to undertake the tasks of service guarantee and hierarchical link sharing in an independent manner so that each task best serves its own objective. The H-GPS model is decomposed into two separate service components: the guaranteed service component to consistently provide performance guarantees over the entire system, and the excess service component to fairly distribute spare bandwidth according to the hierarchical scheduling rule. For tight and harmonized integration of the two service components into a single packet scheduling algorithm, we introduce two novel concepts of distributed virtual time and service credit, and develop a packet version of H-GPS called Hierarchical Fair Queueing (HFQ). We demonstrate the layer-independent performance of the HFQ algorithm through simulation results.
