We propose a hierarchical packet scheduling technique to closely approximate a hierarchical extension of the generalized processor sharing model, hierarchical generalized processor sharing (H-GPS). Our approach is to undertake the tasks of service guarantee and hierarchical link sharing in an independent manner so that each task best serves its own objective. For tight and harmonized integration of the two independent service functions into a single packet scheduling algorithm, we introduce two novel concepts of distributed virtual time and service credit, and develop a packet version of H-GPS called hierarchical fair queuing (HFQ). We demonstrate the layer-independent performance of the HFQ algorithm through simulation results.
