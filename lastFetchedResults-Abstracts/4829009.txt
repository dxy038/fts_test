Image watermarks based on wavelet transforms possess less robustness to the change of image contrasts. The objective of the present paper is to improve the performance of detecting watermarks after operations of image contrast enhancement. The approach is to restore image contrasts before the detecting of watermarks. To accomplish this contrast restoration, a histogram of source gray levels is encoded before embedding watermarks and attached to the image. According to it, before detecting watermarks, the gray levels of the image are transformed so as to show the same histogram as its source one. To facilitate this level transformation, the histogram is replaced by a set of level distributions such as approximates to it. Simulation results demonstrate the effects on restoring the source histograms from images of their contrasts stretched linearly. It is also shown that these effects lead to reducing the detection errors of watermarks to less than one-half
