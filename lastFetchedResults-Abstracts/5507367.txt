In this paper, we study the joint optimization problem on channel coding, power allocation, and route planning in wireless sensor networks (WSN) using dynamic programming (DP). Each sensor node has multiple antennas and applies orthogonal space time block codes (OSTBC) in order to improve the transmission reliability. A decode-and-forward protocol is adopted to relay the signals. The objective function is to determine the packet forwarding route that has the maximum successful transmission rate (STR) subject to the source-to-destination (S-D) energy consumption constraint. Specifically, we cast this energy and quality-of-service (QoS) aware packet forwarding problem into the framework of DP, such that adaptive power allocation can be jointly realized at each sensor node. State space partition techniques and state aggregation approximation architecture are introduced to derive the value function. Simulation results show that the proposed protocols significantly outperform classical routing algorithms, especially when the energy constraint becomes stringent.
