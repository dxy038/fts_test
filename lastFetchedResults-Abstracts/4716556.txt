A two-way relay (TWR) channel is considered where two users exchange their messages with the help of a single relay. With the assumption of separate relay power budget and user power budget, we maximize the sum-rate of the TWR channel using physical-layer network coding (PNC) with flexible time fraction. We propose an optimal power allocation scheme between users and find that in high signal-to-noise ratio (SNR) regime, the user power should be allocated inversely proportional to the channel gains. Moreover, the bidirectional streams of the PNC-TWR enjoy full diversity gain. The analysis of the equal time fraction case and the numerical results of the flexible time fraction case both imply that the PNC relaying performs better than the decode-and-forward based TWR (DF-TWR) if the channel gains are similar, while the DF relaying performs better if the channel gains are quite different.
