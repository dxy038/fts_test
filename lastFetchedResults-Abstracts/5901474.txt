Differences in chemical characteristics, operating temperature or different internal resistance can cause differences in cell remaining capacity, leading to overcharging or overdischarging of respectively most charged and most discharged cells, decreasing the total stack storage capacity, shortening the battery lifetime and, eventually, permanently damaging the cells. The system proposed in this paper uses the switching capacitor method for cell equalization during bidirectional operations and it relies on a State Of Charge (SOC) estimator in order to select the target cell for charge distribution. The SOC estimator, based on an Extended Kalman Filter (EKF), polls cells sequentially and updates simple coulomb-counting SOC estimators. The polling limits the speed of equalization but it reduces the computational load of multiple EKF for every cell in the stack.
