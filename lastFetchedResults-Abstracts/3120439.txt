The conventional distributed file system is designed for LAN environment. They always play poor performance in WAN. In this paper we present a novel distributed file system: The Mobile Agent-based Distributed File System (MADFS). The objective of MADFS is to reduce the overhead of network transfer and cache management inherent to the distribution of a distributed files system in WAN. The MADFS organizes hosts into a hierarchical structure, and uses mobile agents as the underlying facility for transmission, communication and synchronization. We also present a novel cache coherency mechanism for MADFS: hierarchical and convergent cache coherency mechanism (HCCM). HCCM can effectively reduce the overhead of cache coherency management in distributed file system. In this paper, we also build an analysis model for HCMM and compare the performance to single-layer mode. The comparing results show that HCMM has better performance in WAN. In conclusion, MADFS can achieve better performance and availability than conventional distributed file system in WAN.
