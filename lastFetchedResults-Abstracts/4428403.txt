In P2P file-sharing systems, incentives to motivate peers to provide their files are essential. The objective of this paper is to enable the peers to get service differentiation in a P2P network based on how much the peers are willing to pay for a file. A peer can obtain higher download bandwidth if he pays a relatively higher price. To do so, he should earn more money by providing more valuable files to others. As a result the system where the peers reside will encourage all peers to contribute to their maximum extent to others. To realize the service differentiation, we propose a bandwidth allocation algorithm, and a reliable and secure payment scheme to serve the algorithm. Through the experiments, we illustrate that the algorithm can achieve its goal of service differentiation and can induce efficient file sharing by rational peers. Also, we show that the algorithm can properly adapt to different events such as peer´s arrival, peer´s departure and network congestion.
