Servers and network contribute about 60% to the total cost of data center in cloud computing. How to efficiently place virtual machines so that the cost can be saved as much as possible, while guaranteeing the quality of service plays a critical role in enhancing the competitiveness of service cloud provider. Considering the heterogeneous servers and the random property of multiple resources requirements of virtual machines, the problem is formulated as a multi-objective nonlinear programming in this paper. Virtual machine cluster with higher traffic is made staying together. This reduces the communication delay while saving the inter-server bandwidth consumption, especially the relatively scarce higher level bandwidth, by exploiting the topology information of data center. At the same time, statistic multiplex and newly defined &#8220;similarity&#8221; techniques are leveraged to consolidate virtual machines. The violation of resource capacity is kept at any designated minimal probability. Thus the quality of service will not be deteriorated while saving servers and network cost. An offline and an online algorithms are proposed to address this problem. Experiments compared with several baseline algorithms show the validity of the new algorithms: more cost is cut down at less computation effort.
