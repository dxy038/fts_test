This paper considers a longitudinal speed control problem for heavy-duty vehicles equipped with variable compression brake. The use of compression brake reduces the wear of the conventional friction brakes, and it is a preferred way of controlling the vehicle speed during a steady descent or non-critical braking maneuvers. To perform more aggressive braking maneuvers or control vehicle speed during large changes in the grade, the compression brake must be coordinated with gear ratio adjustments and friction brakes. We develop nonlinear controllers that accomplish both noncritical and critical maneuvers. We also show how distance constraints from other vehicles in traffic may be included. The design technique is based on the speed-gradient (SG) approach, whereby the control action is chosen in the maximum descent direction for a scalar goal function. The nominal goal function is selected to address the speed regulation objective, and it is then appropriately modified by barrier functions to handle the critical maneuver requirements. Two ways to handle the uncertainty in the road grade are discussed: through the use of an integral action of the SG controller for constant grades, and through the use of an added differential action for varying grades
