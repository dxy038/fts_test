This paper addresses an approach for accurately measuring energy consumption on battery-powered embedded systems which can be adequately tuned in order to enhance a set of timing and energy consumption metrics for mission critical systems. We introduce a software-based accounting scheme which is calibrated by low-precision battery state-of-charge reads through a battery voltage model. We then perform an offline multi-objective optimization procedure using NSGA-II to find good candidates to the period at which battery consumption information should be updated. Such candidates might guarantee timing constraints (i.e., no deadline misses), minimize residual energy after a pre-defined system lifetime, and maximize system utilization. We considered a simple scheduler which will reserve battery charge to run hard real-time tasks during a pre-defined lifetime and will prevent best-effort tasks from running whenever accounted battery state-of-charge is bellow the current reserve. We evaluated our approach by performing case-studies.
