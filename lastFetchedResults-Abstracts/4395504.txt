This paper describes the design of a current control for a bidirectional cascaded buck+boost dc-dc converter that is used to stabilize a 48V dc-grid using a battery. While the hardware is designed for a switching frequency of 100 kHz, the control frequency is limited to 10 kHz. A model based predictor of the inductor current is introduced to compensate the misalignment between update of the PWM and the current sampling. Despite the restriction of the control frequency a dead-beat behavior of the control of a continuous conducting current was reached. The effect of an undersampled control to the sensitivity of measurement noise and limitations due to quantized PWM are analyzed. To protect the battery of negative currents a switching strategy for discontinuous inductor current is presented and the transition between both strategies is discussed.
