In this paper, we address the problem of joint optimal threshold-based relaying and maximum likelihood (ML) detection in network-coded cooperative systems. The purpose of using threshold-based relaying is to circumvent the impact of error propagation, which could lead to degrading the system diversity. For simplicity, we consider a simple network comprising two source nodes and one relay node. The relay operates in the decode-and-forward (DF) mode and employs binary network coding. The communication between the two source nodes is bidirectional, resulting in a two-way relay channel. We assume binary phase shift keying (BPSK) signaling. For a given log-likelihood ratio (LLR)-based threshold used at the relay, we derive the ML detector at the destination assuming that the destination has full knowledge of the locations of the blocked bits at the relay. We then derive an expression for the corresponding end-to-end (E2E) bit error rate (BER) performance, which is used to find the optimal threshold. We also derive two practical discontinuous transmission detectors at the destination for the purpose of identifying whether the relay is forwarding or not. The performance of one of the detectors is similar to that when the destination knows the locations of the blocked bits, whereas the performance of the other detector suffers some performance degradation. We present several numerical examples that illustrate the efficacy of the proposed scheme as compared to existing schemes.
