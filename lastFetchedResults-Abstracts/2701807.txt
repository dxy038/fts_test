We consider the downlink of a cellular network supporting data traffic in which each user is equipped with the same type of IEEE 802.11-like WLAN or WPAN interface used to relay packets to further users. We are interested in the design guidelines for such networks and how much capacity improvements the additional relay layer can bring. A first objective is to provide a scheduling/relay strategy that maximizes the network capacity. Using theoretical analysis, numerical evaluation, and simulations, we find that when the number of active users is large, the capacity-achieving strategy divides the cell into two areas: one closer to the base station where the relay layer is always saturated and some nodes receive traffic through both direct and relay links, and the farther one where the relay is never saturated and the direct traffic is almost nonexistent. We also show that it is approximately optimal to use fixed relay link lengths, and we derive this length. We show that the obtained capacity is independent of the cell size (unlike in traditional cellular networks). Based on our findings, we propose simple decentralized routing and scheduling protocols. We show that in a fully saturated network our optimized protocol substantially improves performance over the protocols that use naive relay-only or direct-only policies.
