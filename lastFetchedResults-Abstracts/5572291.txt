Most current-generation P2P content distribution protocols use line-granularity blocks to distribute content to all the peers in a decentralized fashion. Such protocols often suffer from a significant degree of imbalance in block distributions, such that certain blocks become rare or even unavailable, adversely affecting content availability. It has been pointed out that randomized network coding may improve block availability in P2P networks, as coded blocks are equally innovative and useful to peers. However, the computational complexity of network coding mandates that, in reality, network coding needs to be performed within segments, each containing a subset of blocks. In this paper, using both theoretical analysis and simulations, we quantitatively evaluate how segment-based network coding may improve resilience to peer dynamics and content availability. The objective of this paper is to explore the fundamental tradeoff between the resilience gain of network coding and its inherent coding complexity. We introduce a differential equations approach to quantify the resilience gain of network coding as a function of the number of blocks in a segment, as well as various other tunable parameters. We conclude that a small number of blocks in each segment is sufficient to realize the major benefits of network coding, with acceptable coding complexity.
