In this paper, a bilevel optimal control scheme is proposed for a smart grid characterized by renewable and traditional power production, bidirectional power flows, dynamic storage systems, and stochastic modeling issues (due to uncertainties in renewables forecasting). In this scheme, the UDM (Upper Decision Maker) views the LDMs (Lower Decision Makers or microgrids) as single nodes. In the statement of the UDM problem, the local control strategies are structurally and parametrically constrained. In this way, it is possible to reduce the runtime necessary to achieve the solution, with respect to an approach in which the LDMs control strategies are not constrained. The architecture has been applied to a specific case study (Savona, Italy), where different test-bed facilities are present.
