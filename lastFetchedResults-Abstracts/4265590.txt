This paper presents the analysis of the modular multilevel converter with integrated batteries energy storage and highlights the influence of the active power injected to the grid from the batteries in order to compensate for ac voltage grid asymmetries. The control objective of the converter is to maintain a balance between the phase-leg of the converter and between the arms of each phase. The development of such algorithm relies on the injection of a common ac voltage that oscillates at the fundamental frequency. By redefining the circulating current in order to rebalance the ac grid voltage asymmetries, it is shown through simulation results that the current injected by the batteries is capable of maintaining the cells well balanced.
