This paper presents a delay-margin based traffic engineering (TE) approach to provide end-to-end quality of service (QoS) in multi-protocol label switching (MPLS) networks using differentiated services (DiffServ) at the link level. The TE, including delay, class, and route assignments, is formulated as a nonlinear optimization problem reflecting the inter-class and inter-link dependency introduced by DiffServ and end-to-end QoS requirements. Three algorithms are used to provide a solution to the problem: The first two, centralized offline route configuration and link-class delay assignment, operate in the convex areas of the feasible region to consecutively reduce the objective function using a per-link per-class decomposition of the objective function gradient. The third one is a heuristic that promotes/demotes connections at different links in order to deal with concave areas that may be produced by a trunk route usage of more than one class on a given link. Approximations of the three algorithms suitable for on-line distributed TE operation are also derived. Simulation is used to show that proposed approach can increase the number of users while maintaining end-to-end QoS requirements.
