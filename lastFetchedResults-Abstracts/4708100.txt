This paper explores the problem of virtual machine (VM) allocation in a network of cloud server facilities which are deployed in different geographical areas. Each cloud server facility is connected to the conventional power grid network and in addition it is supported by an attached renewable energy source (RES). We address the problem of energy-efficient task allocation in the system in the presence of a time-varying grid energy price and the unpredictability and time variation of provisioned power by the RES. The objective is to reduce the total cost of power consumption for the operator. The key idea is to match the VM load with the RES provisioned power. Each request for a task to be executed in the cloud is associated with a VM request with certain resource requirements and a deadline by which it needs to be completed. The cloud provider has to create a VM with the resource requirements of the request and to execute the VM before the deadline. We propose an online algorithm with given look-ahead horizon, in which the grid power prices and patterns of output power of the RESs are known a priori and we compare it with a greedy online algorithm. Numerical results on real traces of cloud traffic and renewable source generation patterns are encouraging in terms of the performance of our techniques and motivate further research on the topic.
