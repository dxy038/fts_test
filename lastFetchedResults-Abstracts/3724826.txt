The design of multi-coil resistive magnets can be greatly improved by optimizing the numerous variables involved. We have developed a code that optimizes the design for maximum field. Maximum magnetic field at the center (the objective function) is sought under numerous geometric and mechanical constraints. We apply the penalty method to reduce the constrained problem to a sequence of unconstrained optimizations. The objective function and the majority of the constraints are nonlinear. The BFGS quasi-Newton method is used at the core of the optimization procedure. We give the mathematical problem formulation and describe the code implementation. The method is shown to be easily modified to account for new constraints. Examples of code results and typical nonlinear behavior of the function being minimized are shown
