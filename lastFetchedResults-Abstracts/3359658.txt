We consider predictive control of a wave energy converter (WEC) that can switch between three modes: power generation; declutched with no power generation; or latched with zero velocity. We propose a formulation that turns the optimal control problem into a small dimensional discrete optimization problem, where the only decision variables are bounds on the latching time and power take-off (PTO) time, whereas the objective function is computed from the trajectory of a hybrid system with linear dynamics in each sample interval. The optimization problem is solved using a novel derivative-free algorithm that exploits the quantization of the decision variables in order to reduce the number of function evaluations. Two closed-loop formulations are also studied within a receding horizon implementation: the first one uses past wave information and can double the energy generation compared to the uncontrolled case, while the second formulation uses predictions of future waves and is able to result in a further increase in energy generation. The benefits of codesigning the physical system and controller is compared to the sequential approach of first optimizing the physical system without control, followed by controller design.
