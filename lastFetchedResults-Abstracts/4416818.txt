A novel framework for residential smart energy systems is proposed. The model integrates the consumer behavior in the dynamics of the technological and environmental components of the system. The objective is to classify and optimize the whole system, which includes the dynamics of the consumer. The framework is based on Markov process, model detection and Hidden Markov Model Theory. The behavior of the consumer is classified from a sequence of available observations within a set of reference classes. The detected class is used as prior information to detect the state of the system and provide feedback to the consumer to reduce the probability that undesirable states occur within a time window.
