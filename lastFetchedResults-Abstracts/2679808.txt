Power continuation of vital loads is one of the most important feature of self-healing smart grid. It is desired to charge the batteries of Electric Vehicles (EVs) whenever they can be connected to the grid in order to have more energy reserved in the case of emergency. However, this method of charging can deteriorate the load curve, and has several other side effects. Therefore, using the vehicle-to-grid (V2G) for this purpose can be challenging. A multi-objective optimization is formulated that assigns the charging times of EVs in a smart grid by considering two goals; maximizing of energy stored in EVs and minimizing the standard deviation (SD) of the grid load curve counting the charging load. Uncertainty of arrival time, departure time and state of charge at arrival time of EVs are considered. In order to decrease the number of variables of optimization problem in case of high penetration of EVs, the EVs are clustered with statistical methods. The proposed optimization method is based on the artificial immune system algorithm (AISA). Simulation studies are performed on the IEEE 37-bus benchmark, showing that AISA provides better solutions compared to those of the genetic algorithm, as enough energy is stored in EVs while the SD of the load curve is better. 
