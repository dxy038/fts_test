This paper proposes a multi-function control system for single-phase bidirectional PWM converters for renewable energy system applications. A common inner AC current-loop between the different modes helps to facilitate a seamless transition between them, where several individually designed outer loops alternatively perform the different regulation tasks, namely AC voltage, DC voltage, and DC current. The frequency-response based design procedure for the proposed control system is presented in detail for all the converter operating modes, and its performance is verified experimentally using a DSP-controlled 7 kW 120 V AC - 300 V DC laboratory prototype.
