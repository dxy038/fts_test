In this paper, we investigate the utility-based resource allocation problem in OFDMA relay networks with service differentiation, where Rate Constraint (RC) and Best Effort (BE) services are supported. Our objective of resource allocation is to maximize the sum utility of BE service users, while guaranteeing that the utility of each RC service user is equal to one. A joint optimization problem for relay selection, subcarrier assignment and power allocation is formulated. Since the problem cannot be solved directly, we make continuous relaxation and solve it by Lagrangian dual method. The optimal allocation strategy is obtained using Karush-Kuhn-Tucker (KKT) conditions. As it is difficult to converge to the optimal solution, thus we further present a heuristic resource allocation algorithm with low complexity. Simulation results show that our proposed algorithm achieves higher utility of BE users and lower outage probability of RC users, and also yields a good tradeoff between system throughput and user fairness.
