Two fast growing technologies, MIMO and cognitive radio (CR), can both effectively combat the transmission interference among links and thus increase the network throughput. MIMO exploits spatial degree of freedom (DoF) through spatial multiplexing and interference cancellation within the same frequency channel, while CR exploits all available frequency channels for transmissions. We consider an ad hoc network where each node is equipped with an array of cognitive radios. A radio can tune to a different channel and transmit independently, or transmit together with other radios on the same channel using MIMO mode. Additionally, different frequency and spatial channels could have different conditions. There is a big challenge for nodes to distributively coordinate in selecting a transmission channel and/or a spatial DoF taking advantage of this unprecedented flexibility and diversity of channels for a higher network performance. In this work, we mathematically model the opportunities and constraints for such a network with the objective of maximizing the weighted network throughput. We propose a centralized algorithm as our comparison benchmark, and a distributed algorithm to flexibly assign spectrum channel or spatial DoF exploiting the multiuser diversity, channel diversity and spatial diversity for a higher performance in a practical network. The algorithm further supports different transmission priorities, reduces transmission delay and ensures fair transmissions among nodes by providing all nodes with certain transmission probability. The performance of our algorithms are studied through extensive simulations and the results demonstrate that our algorithm is very effective and can significantly increase the network throughput while reducing the delay.
