This paper presents a simulation-based optimization (SO) algorithm for nonlinear problems with general constraints and computationally expensive evaluation of objective functions. It focuses on metamodel techniques. This paper proposes an SO technique that also uses metamodel information when testing the improvement of the proposed points. We use a Bayesian framework, where the parameters of the prior distributions are estimated based on probabilistic metamodel information. In order to derive an SO algorithm that achieves a good trade-off between detail, realism and computational efficiency, the metamodel combines information from a high-resolution simulator with information from a lower-resolution yet computationally efficient analytical differentiable network model. In this paper, we use the probabilistic information from the queueing model to estimate the parameters of the prior distributions. We evaluate the performance of this SO algorithm by addressing an urban traffic management problem using a detailed microscopic traffic simulator of the Swiss city of Lausanne.
