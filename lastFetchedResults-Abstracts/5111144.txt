With the objective of improving the service quality of the Internet routing by considering buffer stage and shortest path to the target in mesh network, an adaptive routing algorithm in Grid-like structure, overlaying an unstructured peer-to-peer network, is presented in this paper The buffer usage rate can be indicated by temperature field derived from physics analogue while the shortest distance is measured by grid structure coordinate. In defining routing, both constraints, applied to find a minimum weight path and to avoid overloading and big queuing peers; and indirect route are considered. The experiment result shows that the routing not only work practically in the P2P Network Simulation tools, but also work theoretically according to Bellman-Ford algorithm theory.
