We consider a wavelength-routed optical network operated as a lightpath-based virtual topology. We present an exact linear programming formulation for the complete virtual topology design, including choice of constituent lightpaths, routes for these lightpaths, and intensity of packet flows through these lightpaths. By making a shift in the objective function to minimal hop distance and by relaxing the wavelength-continuity constraints (i.e., assuming wavelength converters at all nodes), we demonstrate that the entire optical network design problem can be linearized and hence solved optimally. The linear formulation can be used to design a balanced network, such that the utilizations of both transceivers and wavelengths are high, i.e., neither of these expensive resources are under-utilized. We also use the linear formulation to provide a reconfiguration methodology in order to adapt the virtual topology to changing traffic conditions
