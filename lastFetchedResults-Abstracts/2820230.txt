In this paper, we consider both channel state uncertainty and harvested energy state uncertainty for a source-relay-destination communication link where the source and the relay are equipped with hybrid energy sources. Taking into account these uncertainties is of important for practical energy harvesting (EH) communication. While channel state uncertainties also affect conventional communication systems and have been widely studied, harvested energy state uncertainties are specific to energy harvesting systems and have not been considered in the literature before. The considered hybrid energy sources include a constant energy source and an energy harvester. Our objective is to maximize the worst case system throughput over a finite number of transmission intervals. We propose robust optimal offline, optimal online, and suboptimal online power allocation schemes. The offline power allocation design is formulated as an optimization problem which can be solved optimally. For the online case, we propose a dynamic programming (DP) approach to compute the optimal transmit power. To alleviate the prohibitively high complexity inherent to DP, we also propose several suboptimal low-complexity online power allocation schemes. Simulation results confirm the robustness of the proposed power allocation schemes to channel and energy state uncertainties.
