We describe an optimization method for design of combined feedforward and feedback controllers when the plant model is uncertain. It is demonstrated that the feedback design and the feedforward design have to be made jointly for the performance to be optimal. The uncertainties used in the synthesis are given as intervals for the parameters with corresponding probability density functions. These are used in the evaluation of the objective function, which is the expected value of the effect of load disturbances. The minimization is subject to constraints on the sensitivity function and the controller response to reference signals and measurement noise. By changing the constraints the trade-off between performance, robustness and actuation is elucidated in the same manner as for plants with no explicit uncertainties. Depending on the problem character, i.e. SISO or MIMO, number of uncertain parameters and size of nominal closed loop in the uncertainty formulation, three different methods to guarantee the constraints are suggested: A direct evaluation, Horowitz-Sidi bounds with a Horowitz-Sidi test, or use of the structured singular value for robust performance. We also derive a second order approximation of the objective function to use when the number of uncertain parameters is high. The methods are illustrated on a nonlinear and uncertain control problem, namely the external carbon addition in predenitrification wastewater treatment plants.
