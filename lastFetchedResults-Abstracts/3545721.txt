We present control design for a variable configuration CO<sub>2</sub> removal (VCCR) system, which exhibits a hybrid dynamical character due to the various modes in which one needs to operate the system. The VCCR is part of an overall NASA Air Recovery System of an intended human life support system for space exploration. The objective of the control system is to maintain CO<sub>2</sub> and O concentrations in the crew cabin within safe bounds. We present a novel adaptation of the model predictive control technique to a nonlinear hybrid dynamic system. We exploit the problem structure and map the hybrid optimization problem into a continuous nonlinear program (NLP) with the aid of an appropriate representation of time and set definitions. We present a systematic approach for designing the objective function for the nonlinear model predictive control (NMPC) regulation problem that achieves a long-term, cyclic steady state. We also present a simple switching feedback controller and compare the performance of the two controllers during off-nominal and failure conditions to highlight the benefits of a systematically designed NMP controller. We then perform safety verification of both control designs-the model predictive control with techniques from statistical learning theory and the switching feedback controller with Barrier certificates computed using sum of squares programming. The two approaches yield consistent results.
