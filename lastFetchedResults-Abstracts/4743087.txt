The continuing rapid increase in the number of wavelengths per fiber will dramatically increase the size of OXCs/ROADMs in the WDM-based metro core networks. This calls for the use of the multi-granular switching concept introduced in GMPLS to avoid the cost explosion of these optical switches. This paper addresses the optimal planning problem of the GMPLS-based metro core network by (1) considering the whole traffic flow hierarchy defined in GMPLS, and (2) maintaining the color-continuity constraint for all optical flows. We call such a planning problem the routing and multi-granular paths assignment (RMGPA). The objective of the problem is to minimize the total weighted port count in the metro core network. The problem is formulated as an MILP model. Due to the computational complexity of the problem, the MILP model is solved for small-sized problems.
