We describe a kind of supply chain optimization problem as a commodity stream routing problem upon a stochastic flow network. We divide the optimization problem to two parts: Firstly, establish model to calculate the optimal commodity stream allocation policy on all minimal paths; secondly, convert these allocation policy on all minimal paths to the optimal routing policy on all arcs. A multi-objective genetic algorithm based stochastic simulation is proposed to solve the established model. We analyze the computational complexity of proposed algorithm and test it by examples in various sizes.
