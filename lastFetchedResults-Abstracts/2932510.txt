In this paper, we consider optimal production and setup scheduling in a failure-prone manufacturing system consisting of a single machine. The system can produce several type of products. At any given time it can only produce one type of product. A setup is required if production is to be switched from one type of product to another. The decision variables are a sequence of setups and a production plan. The objective of the problem is to minimize the costs of setup, production, and surplus. An approximate optimality condition is given in terms of approximated value functions. A computational algorithm is given for solving the optimal control problem. Finally, numerical experiment on several examples are reported
