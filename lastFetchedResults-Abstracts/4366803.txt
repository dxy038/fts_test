There are several payment protocols mediated by trusted third party functioning as bank (or credit card) agents. But these protocols do not integrate all parts of the protocol together. These agents only establish payment intention but not handle settlement. These protocols rely on traditional payment systems and logistics pathways to complete transactions thus the efficiency is low. In addition, though the agents in these protocols took up some services of the traditional financial conglomerates, risk analysis of the agents is unintentionally neglected. Here we developed an integrative and instantaneous payment protocol-virtual card payment protocol. Broker in our protocol is a bank agent, a financial conglomerate, a logistics assistant, a creditor to score participants´ performance and an arbitrator to solve dispute between customers and merchants. In this protocol, one transaction is divided into 3 parts and different parts of the transaction apply different security level. Settlement can be instantaneously handled totally online, without direct involvement of traditional payment systems. Logistics is integrated to process through Internet. We define this technique &#8220;pay-on-delivery-online&#8221;. Since inconsistency in transactions causes customer to complain, we introduce complaint-processing to build trust among involved participants. To dissipate risk concentration in Broker, we propose an algorithm to quantify participants´ trustworthiness by estimating participants´ transaction history with statistic analysis. Since it assumes that the participants´ performance can only be evaluated by those that have established business with them, the model is more objective than poll online and is like the credit scoring or behavioral scoring in real world banking systems
