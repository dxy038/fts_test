In this paper, we consider a system consisting of n photovoltaic (PV) panels, each one with its maximum power point tracking (MPPT) controller, connected to a dc bus through dc-dc two-stage boost converters. A storage battery is connected to the grid using a bidirectional dc-dc converter for controlling the energy transfer between two dc buses. Each converter is behaving as a loss free resistor (LFR) imposed by a Sliding-Mode Control (SMC). The power flow on the bidirectional converter depends on the balance between the input power to the dc grid and the power consumed by the load. Mathematical modeling is addressed for a complete scheme consisting of n output-paralleled converters. An ideal reduced-order sliding-mode dynamics model is derived from the full-order switched model revealing that the stability of the system can be ensured just by guaranteing the stability of each standalone two-stage boost converter which in turn is guaranteed only by imposing sliding mode dynamics for each stage. From the stability analysis the design of the system can be addressed. Numerical simulations for a case study for n = 2 corroborate the theoretical predictions
