We tackle a challenging problem arising in energy cost-aware data centre management. The problem focuses on the allocation of virtual machines with time-variable resource demands on data centres, which are geographically distributed and where local energy prices and temperatures are changing over time. The objective is to find a good compromise between the number of migrations, the loads of the servers and the energy cost reduction possible by following the lowest energy prices over time. We present an extremely rich model that not only considers migration of virtual machines, but also does a full assignment of virtual machines to individual servers, which are placed in racks, which are themselves organised in specific aisles of a data centre at a specific location. We present a scalable Constraint Programming-based Large Neighbourhood Search (CP-LNS) approach to solving this problem. Our CP-LNS approach significantly out-scales two commercial optimisation systems and provides a practical approach to lowering electricity costs for multiple geographically distributed data centres.
