The first stage of a battery charger in electric vehicles is a power factor correction (PFC) circuit, which creates a second harmonic in the dc link. This harmonic is typically filtered through a bulky dc-link capacitor. In the conventional battery chargers, another dc/dc stage is utilized to regulate the battery current. In this paper, the second harmonic in the dc link is analyzed in detail and a new load current compensation technique is proposed. The proposed technique replaces the second stage dc/dc converter with a bidirectional dc/dc converter connected in parallel with the load, and requires a secondary energy source, i.e., a small-size capacitor. The capacitor injects 180&#176; phase-shifted second harmonic current to the dc link. Thus, the dc-link capacitor can be reduced significantly as it is only sized for high-frequency ripples rather than being sized for low-frequency content. The proposed method is generalized for resistive and battery loads with voltage- and current-source PFC circuits. A 360 W prototype is developed to experimentally verify the proposed technique. A 72 V/10 A&#183;h battery module is charged by filtering an oscillating power of 360 W using a two-quadrant bidirectional dc/dc converter and an UC module, demonstrating a peak charging current of 16 A.
