In this paper we develop a probabilistic methodology for calculating the likelihood that an observed, possibly corrupted event sequence was generated by two (or more) candidate finite state machines (FSMs) (one of which could represent the normal mode of operation and the other(s) could represent the failed model(s)). Our objective is to perform failure diagnosis by deciding which FSM is most likely to have generated the observed event sequence. The underlying problem relates to the evaluation problem in hidden Markov models (HMMs) which calculates the probability that an observed sequence is generated by a given Markov model. However, the additional challenge in our setup is the fact that errors may corrupt the observed sequence, potentially causing loops in the resulting trellis diagram. These errors include, in their most basic form, event insertions and deletions and could arise under a variety of conditions (e.g., due to sensor failures or due to problems encountered in the links connecting the system sensors with the diagnoser). Given the possibly erroneous observed sequence, we propose an algorithm for obtaining the most likely underlying FSM
