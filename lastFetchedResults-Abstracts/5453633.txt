The dynamic control of a bidirectional charger based on a dual active bridge (DAB) cascaded with a singlephase grid inverter is the scope of this work. Due to a small dc-link capacitance the power fluctuation of the grid at twice the grid frequency is transferred to the battery. To compensate this ac-power fluctuation it is demonstrated how the switching pattern must be selected to achieve a continuous power transfer and improve the dynamic control of the dc-link voltage. For the control it is also taken into account that depending on the voltage ratio and the transferred power certain switching patterns can improve the efficiency of the DAB. Furthermore, a repetitive controller is proposed to enhance the performance of the controller. Finally the control design is presented and measurements on a prototype demonstrating the functionality of the proposed concepts are shown.
