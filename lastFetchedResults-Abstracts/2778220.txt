This brief presents the design of an energy controller for a mechanical hybrid powertrain, which is suitable for implementation in real-time hardware. The mechanical hybrid powertrain uses a compact flywheel module to add hybrid functionalities to a conventional powertrain that consists of an internal combustion engine and a continuously variable transmission. The control objective is to minimize the overall fuel consumption for a given driving cycle. The design approach follows a generic framework to: 1) solve the optimization problem using optimal control; 2) make the optimal controller causal using a prediction of the future driving conditions; and 3) make the causal controller robust by tuning of one key calibration parameter. The highly constrained optimization problem is solved with dynamic programming. The future driving conditions are predicted using a model that smoothly approximates statistical data, and implemented in the receding model predictive control framework. The controller is made tunable by rule extraction from the model predictive controller, based on physical understanding of the system. The resulting real-time controller is transparent, causal, and robust, where the latter is shown by simulations for various driving cycles and start conditions.
