This paper presents Quality of Service (QoS) based routing and priority class assignment algorithms. It introduces an end-to-end delay margin balancing approach to routing, and uses it to formulate a nonlinear optimization problem. In a single-class network, the formulation is shown to be convex; however in a multi-class priority network, it is only convex within specific regions, and is infeasible otherwise. A centralized off-line computation technique is proposed to calculate both the route configuration and end-to-end priority assignment. A gradient-based solution in the convex region and a heuristic to overcome the multi-class discontinuity are derived. An approximation of the optimization problem is developed for on-line distributed processing is then presented. Using the approximation, arriving traffic flows can use vector routing tables to search for routes. Compared with minimum-hop, minimum-delay, and mininterference routing algorithms, the proposed approach enables the single-class network to accommodate more users of different endto-end delay requirements. In a multi-class priority network, results show that using the objective function to combine route and priority class assignment further increases the supportable network traffic volume.
