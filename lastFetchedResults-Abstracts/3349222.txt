In this paper, a real-time optimization of nonlinear systems with unknown cost function and uncertain dynamics is considered. The drift term of the dynamical system and the gradient of the unknown objective function are treated as unknown time-varying parameters. A novel estimation scheme based on the almost invariant manifolds is proposed to estimate the unknown time-varying parameters. A direct adaptive extremum-seeking controller is designed to solve the uncertain optimization problem. This approach is shown to avoid the need for time-scale separation in design of the real-time optimization algorithm. The effectiveness of the proposed method is illustrated with a simulation example.
