The objective of maintaining a high efficiency for a shared storage system often has to be compromised with the enforcement of Service-level Agreement (SLA) on quality of service (QoS). From the perspective of I/O scheduling, I/O request service order optimized for disk efficiency can be substantially different from the order required for meeting QoS requirements. When QoS takes priority, the storage system has to serve requests with a sub-optimal efficiency. In this paper, we propose to relate QoS requirements specified for I/O requests to users´ experiences. By assuming that only user-observable QoS is necessary for the system to fulfill, we relax QoS requirements on the storage system as long as such a relaxation is not noticeable to users. The relaxation produces a leeway critical for the I/O scheduler to improve disk efficiency. We implement a prototype system, named as intelliQoS, as a proof of concept. In the system the scheduler is allowed to schedule requests in its preferred order as long as the user does not sense any performance degradation through the outputs from the application. In this way the user can still experience the same service quality as required although individual requests´ latency requirements can be missed for higher storage efficiency. Our experiments on Xen virtual machines (VMs) show that intelliQoS significantly improves system efficiency by up to 80% without violating user-observable QoS requirements.
