Rate control is a critical issue in H.264/AVC video coding standard. The purpose of this paper is to improve allocation of the number of bits without skipping the frame by accurately estimating the target bits in H.264/AVC rate control. In our scheme, we propose an enhancement to the target frame rate based H.264/AVC bit allocation method. The enhancement is by using a frame complexity estimation to improve the existing mean absolute difference (MAD) based complexity measure. Bit allocation to each frame is not just computed by target frame rate but also adjusted by a combined frame complexity measure. To prevent an undesirable buffer overflow or underflow in short of channel bandwidth, the computed quantization parameter (QP) for the current frame is adjusted based on actual encoding results at that point. The objective of QP and adjustment is to produce bits as close to the target frame as possible, which is especially important for low bandwidth based real-time applications. Simulation results show that the H.264 encoder, using our proposed rate control scheme, obtains significant improvement for the mismatch ratio of target bits and actual bits, achieves a 0.17 dB average PSNR improvement, achieves a similar or smaller PSNR deviation, and achieves time saving of 71 % when compared to the JM 12.1 rate control algorithm.
