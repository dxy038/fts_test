This paper studies risk-aware day-ahead scheduling and real-time dispatch for electric vehicle (EV) charging, aiming to jointly optimize the EV charging cost and the risk of the load mismatch between the forecast and the actual EV loads, due to the random driving activities of EVs. It turns out that the consideration of the load mismatch risk in the objective function significantly complicates the risk-aware day-ahead scheduling problem (indeed it involves nonconvex optimization). A key step taken here is to utilize a hidden convexity structure to recast this problem as a two-stage stochastic linear program, and then solve it by using the L-shaped method. Since the computational complexity grows exponentially in the number of EVs, an estimation algorithm is developed based on importance sampling to mitigate the computational complexity. Further, a distributed risk-aware real-time dispatch algorithm is developed, in which the aggregator needs to compute only the shadow prices for each EV to optimize its own charging strategy in a distributed manner. It is shown, based on real data, that the proposed risk-aware day-ahead scheduling algorithm using importance sampling can significantly reduce the overall charging cost with a small number of samples.
