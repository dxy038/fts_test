The Supercomputer SuperNet (SSN) is a two-level hierarchical high-speed network. The lower level is a high speed electronic mesh fabric; the higher level is a WDM optical backbone network interconnecting the high-speed fabrics distributed across a campus or metropolitan area. The salient characteristics of this architecture are the use of wormhole routing and backpressure hop-by-hop flow control mechanism. Because of these features, deadlocks are possible in SSN. In this paper, we address the issue of deadlock-free routing which is an essential prerequisite for the proper operation of SSN. To this end, we first present a deadlock free routing scheme for the WDM backbone which is implemented with a shufflenet multihop virtual topology. We use the notion of virtual channels to obtain mappings of virtual channels to physical channels such that deadlock-free routing is achieved for any (p,k) shufflenet (uni and bidirectional). Then, we compare the virtual channels scheme with the more conventional up/down deadlock free routing scheme for the bidirectional shufflenet and show that the former yields much better performance. Finally, we address the problem of deadlock prevention across the entire network (i.e., lower level fabric as well as the optical backbone) and develop an integrated solution combining different schemes best suited for the different levels
