Virtual machines (VMs) may significantly improve the efficiency of data center infrastructure by sharing resources of physical servers. This benefit relies on an efficient VM placement scheme to minimize the number of required servers. Existing VM placement algorithms usually assume that VMs´ demands for resources are deterministic and stable. However, for certain resources, such as network bandwidth, VMs´ demands are bursty and time varying, and demonstrate stochastic nature. In this paper, we study efficient VM placement in data centers with multiple deterministic and stochastic resources. First, we formulate the Multidimensional Stochastic VM Placement (MSVP) problem, with the objective to minimize the number of required servers and at the same time satisfy a predefined resource availability guarantee. Then, we show that the problem is NP-hard, and propose a polynomial time algorithm called Max-Min Multidimensional Stochastic Bin Packing (M<sup>3</sup>SBP). The basic idea is to maximize the minimum utilization ratio of all the resources of a server, while satisfying the demands of VMs for both deterministic and stochastic resources. Next, we conduct simulations to evaluate the performance of M<sup>3</sup>SBP. The results demonstrate that M<sup>3</sup>SBP guarantees the availability requirement for stochastic resources, and M<sup>3</sup>SBP needs the smallest number of servers to provide the guarantee among the benchmark algorithms.
