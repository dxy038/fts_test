In this paper, we study a battery sizing problem for grid-connected photovoltaic (PV) systems assuming that the battery charging/discharging limit scales linearly with its capacity. The objective is to seek a value of the battery size such that the electricity purchase cost from the grid is minimized while satisfying the loads. We propose an upper bound on the storage size, and an algorithm to calculate the exact storage size for the case with ideal PV generation and constant loads; we verify that these are consistent with the results obtained via simulations.
