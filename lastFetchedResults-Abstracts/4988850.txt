It has been shown that the throughput of Session Initiation Protocol (SIP) proxies is largely degraded during overload conditions due to the built in message retransmission mechanism of SIP. Many overload control algorithms have been proposed with the objective of keeping SIP proxy throughput at an acceptable level when overload occurs. In this paper we view the overload problem as a Lyapunov stability problem. We consider the standard SIP trapezoid topology consisting of an upstream and downstream proxy operating in tandem. We provide a fluid flow model for the operation of this system under overload. We write state space equations for the tandem proxy system and using Lyapunov stability criterion derive stability conditions for it. We then propose an overload control algorithm that stabilizes the system by rejecting a fraction of SIP call setup requests. Backing our analysis with simulations we illustrate that our algorithm is able to restore proxy throughput when hit by overload. In addition, we show that rejection should be an integral part of any SIP overload control scheme and prove that the optimal rejection policy is to put the rejection burden on the upstream proxy as much as possible. Moreover, based on our mathematical model we show how to do optimal capacity provisioning for a SIP network in order to withstand overload. To the best of our knowledge this is the first work which addresses stability of SIP proxies using Lyapunov theory.
