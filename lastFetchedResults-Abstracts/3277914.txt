In recent years, there is an increasing deployment of photovoltaic (PV) units and energy storage systems (ESSs) in households. When the energy generated by PV units is greater than the aggregate load of households and the capacity of ESS, there will be a reverse energy flow from households to the substation. When the reverse energy flow exceeds a certain threshold, it will cause a voltage rise problem, which is a challenge for PV units to be effectively integrated with the distribution network. In this paper, we propose an energy consumption scheduling algorithm, which shifts the deferrable load (e.g., washing machines, dryers) from peak hours (e.g., 7 pm - 10 pm) to high solar radiation hours (e.g., 10 am - 2 pm) in order to jointly shave the peak load and reduce the reverse energy flow. We formulate the energy consumption scheduling problem as a stochastic optimization problem to capture the uncertainty of the amount of PV output power. The objective of our algorithm is to minimize the electricity bill for the household users which have PV units and ESS installed. We use inclining block rate (IBR) pricing and time of use (TOU) pricing to encourage users to shift their load. Numerical results show that our proposed algorithm can avoid the voltage rise problem and reduce the peak-to-average ratio (PAR) in the aggregate load.
